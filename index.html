<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="A small package containing functions to perform a joint calibration of totals and quantiles. The calibration for totals is based on Deville and Särndal (1992) &lt;doi:10.1080/01621459.1992.10475217&gt;, the calibration for quantiles is based on Harms and Duchesne (2006) &lt;https://www150.statcan.gc.ca/n1/en/catalogue/12-001-X20060019255&gt;. The package uses standard calibration via the survey, sampling or laeken packages. In addition, entropy balancing via the ebal package and empirical likelihood based on codes from Wu (2005) &lt;https://www150.statcan.gc.ca/n1/pub/12-001-x/2005002/article/9051-eng.pdf&gt; can be used. See the paper by Beręsewicz and Szymkowiak (2023) for details &lt;arXiv:2308.13281&gt;. The package also includes functions to reweight the control group to the treatment reference distribution and to balance the covariate distribution using the covariate balancing propensity score via the CBPS package for binary treatment observational studies.">
<title>A Joint Calibration of Totals and Quantiles • jointCalib</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="A Joint Calibration of Totals and Quantiles">
<meta property="og:description" content="A small package containing functions to perform a joint calibration of totals and quantiles. The calibration for totals is based on Deville and Särndal (1992) &lt;doi:10.1080/01621459.1992.10475217&gt;, the calibration for quantiles is based on Harms and Duchesne (2006) &lt;https://www150.statcan.gc.ca/n1/en/catalogue/12-001-X20060019255&gt;. The package uses standard calibration via the survey, sampling or laeken packages. In addition, entropy balancing via the ebal package and empirical likelihood based on codes from Wu (2005) &lt;https://www150.statcan.gc.ca/n1/pub/12-001-x/2005002/article/9051-eng.pdf&gt; can be used. See the paper by Beręsewicz and Szymkowiak (2023) for details &lt;arXiv:2308.13281&gt;. The package also includes functions to reweight the control group to the treatment reference distribution and to balance the covariate distribution using the covariate balancing propensity score via the CBPS package for binary treatment observational studies.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">jointCalib</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/a_theory.html">Joint calibration estimators for totals and quantiles</a>
    <a class="dropdown-item" href="articles/b_survey.html">Calibration of quantiles and a joint calibration of totals and quanitles for surveys</a>
    <a class="dropdown-item" href="articles/c_nonprob.html">Calibration and inverse probability weighting for non-probability samples</a>
    <a class="dropdown-item" href="articles/d_causal.html">Balancing distributions for observational studies</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ncn-foreigners/jointCalib/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<!-- badges: end -->
<div class="section level1">
<div class="page-header"><h1 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h1></div>
<div class="section level2">
<h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a>
</h2>
<p>A small package for joint calibration of totals and quantiles (see <a href="https://arxiv.org/abs/2308.13281" class="external-link">Beręsewicz and Szymkowiak (2023)</a> working paper for details). The package combines the following approaches:</p>
<ul>
<li>Deville, J. C., and Särndal, C. E. (1992). <a href="https://www.tandfonline.com/doi/abs/10.1080/01621459.1992.10475217" class="external-link">Calibration estimators in survey sampling</a>. Journal of the American statistical Association, 87(418), 376-382.</li>
<li>Harms, T. and Duchesne, P. (2006). <a href="https://www150.statcan.gc.ca/n1/pub/12-001-x/2006001/article/9255-eng.pdf" class="external-link">On calibration estimation for quantiles</a>. Survey Methodology, 32(1), 37.</li>
<li>Wu, C. (2005) <a href="https://www150.statcan.gc.ca/n1/pub/12-001-x/2005002/article/9051-eng.pdf" class="external-link">Algorithms and R codes for the pseudo empirical likelihood method in survey sampling</a>, Survey Methodology, 31(2), 239.</li>
<li>Zhang, S., Han, P., and Wu, C. (2023) <a href="https://onlinelibrary.wiley.com/doi/10.1111/insr.12518" class="external-link">Calibration Techniques Encompassing Survey Sampling, Missing Data Analysis and Causal Inference</a>, International Statistical Review 91, 165–192.</li>
</ul>
<p>which allows to calibrate weights to known (or estimated) totals and quantiles jointly. As an backend for calibration <a href="https://CRAN.R-project.org/package=sampling" class="external-link">sampling</a> (<code><a href="https://rdrr.io/pkg/sampling/man/calib.html" class="external-link">sampling::calib</a></code>), <a href="https://CRAN.R-project.org/package=laeken" class="external-link">laeken</a> (<code><a href="https://rdrr.io/pkg/laeken/man/calibWeights.html" class="external-link">laeken::calibWeights</a></code>), <a href="https://CRAN.R-project.org/package=survey" class="external-link">survey</a> (<code><a href="https://rdrr.io/pkg/survey/man/calibrate.html" class="external-link">survey::grake</a></code>) or <a href="https://CRAN.R-project.org/package=ebal" class="external-link">ebal</a> (<code><a href="https://rdrr.io/pkg/ebal/man/eb.html" class="external-link">ebal::eb</a></code>) package can be used. One can also apply empirical likelihood using codes from Wu (2005) with support of <code><a href="https://rdrr.io/r/stats/constrOptim.html" class="external-link">stats::constrOptim</a></code> as used in Zhang, Han and Wu (2022).</p>
<table class="table">
<colgroup>
<col width="13%">
<col width="51%">
<col width="35%">
</colgroup>
<thead><tr class="header">
<th>backend</th>
<th>method</th>
<th>function called</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>sampling</code></td>
<td><code>c("raking", "linear", "logit", "truncated")</code></td>
<td><code><a href="https://rdrr.io/pkg/sampling/man/calib.html" class="external-link">sampling::calib</a></code></td>
</tr>
<tr class="even">
<td><code>laeken</code></td>
<td><code>c("raking", "linear", "logit")</code></td>
<td><code><a href="https://rdrr.io/pkg/laeken/man/calibWeights.html" class="external-link">laeken::calibWeights</a></code></td>
</tr>
<tr class="odd">
<td><code>survey</code></td>
<td><code>c("raking", "linear", "logit", "sinh")</code></td>
<td><code><a href="https://rdrr.io/pkg/survey/man/calibrate.html" class="external-link">survey::grake</a></code></td>
</tr>
<tr class="even">
<td><code>ebal</code></td>
<td><code>eb</code></td>
<td><code><a href="https://rdrr.io/pkg/ebal/man/eb.html" class="external-link">ebal::eb</a></code></td>
</tr>
<tr class="odd">
<td><code>base</code></td>
<td><code>el</code></td>
<td>R code and <code><a href="https://rdrr.io/r/stats/constrOptim.html" class="external-link">stats::constrOptim</a></code>
</td>
</tr>
</tbody>
</table>
<p>Currently supports:</p>
<ul>
<li>calibration of quantiles,</li>
<li>calibration of quantiles and totals,</li>
<li>calibration using standard calibration, empirical likelihood and entropy balancing method,</li>
<li>covariate distribution entropy balancing for ATT and QTT (distributional entropy balancing; DEB),</li>
<li>covariate distribution balancing propensity score for ATE and QTE (distributional propensity score; DPS).</li>
</ul>
<p>Further plans:</p>
<ul>
<li>generalized calibration via <code><a href="https://rdrr.io/pkg/sampling/man/gencalib.html" class="external-link">sampling::gencalib</a></code>,</li>
<li>calibration for Gini and other metrics,</li>
<li>…</li>
</ul>
</div>
<div class="section level2">
<h2 id="funding">Funding<a class="anchor" aria-label="anchor" href="#funding"></a>
</h2>
<p>Work on this package is supported by the the National Science Centre, OPUS 22 grant no. 2020/39/B/HS4/00941.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install CRAN version of the package using</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"jointCalib"</span><span class="op">)</span></span></code></pre></div>
<p>You can install the development version of <code>jointCalib</code> from GitHub with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"ncn-foreigners/jointCalib"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=jointCalib" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ncn-foreigners/jointCalib/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ncn-foreigners/jointCalib/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing jointCalib</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Maciej Beręsewicz <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-8281-4301" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/ncn-foreigners/jointCalib/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/ncn-foreigners/jointCalib/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://CRAN.R-project.org/package=jointCalib" class="external-link"><img src="https://www.r-pkg.org/badges/version/jointCalib" alt="CRAN-s"></a></li>
<li><a href="https://cran.r-project.org/package=jointCalib" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/grand-total/jointCalib?color=blue" alt="CRAN-d"></a></li>
<li><a href="https://doi.org/10.5281/zenodo.8355993" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.8355993.svg" alt="DOI"></a></li>
<li><a href="https://cran.r-project.org/package=jointCalib" class="external-link"><img src="https://tinyverse.netlify.com/badge/jointCalib" alt="Dependencies"></a></li>
<li><a href="http://www.awesomeofficialstatistics.org" class="external-link"><img src="https://awesome.re/mentioned-badge.svg" alt="Mentioned in Awesome Official Statistics"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Maciej Beręsewicz.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
